<div class="panel panel-default">
	<div class="panel-body">
		<div class="luxletter-panel-body">
			<div class="row">
				<div class="col-md-6 vcenter">
					<canvas
							id="luxletter-dashboard-overallopenrate"
							width="150"
							height="150"
							data-chart-data="{statistic.overallMailsSent},{statistic.overallOpenings}"
							data-chart-labels="{f:translate(key:'module.newsletter.dashboard.label.diagram.0')},{f:translate(key:'module.newsletter.dashboard.label.diagram.1')}"></canvas>
					<script>
						require(['TYPO3/CMS/Luxletter/Vendor/Chart.min'], function (Chart) {
							var container = document.getElementById('luxletter-dashboard-overallopenrate');
							var ctx = container.getContext('2d');

							/**
							 * @returns {Array}
							 */
							var getDataChartData = function() {
								var string = container.getAttribute('data-chart-data');
								return string.split(',');
							};

							/**
							 * @returns {Array}
							 */
							var getDataChartLabels = function() {
								var string = container.getAttribute('data-chart-labels');
								return string.split(',');
							};

							var data = {
								datasets: [{
									data: getDataChartData(),
									backgroundColor: [
										'rgba(221, 221, 221, 1)',
										'rgba(77, 231, 255, 1)'
									]
								}],
								labels: getDataChartLabels()
							};
							var options = {
								legend: {
									display: false,
									position: 'right',
									labels: {
										fontSize: 14
									}
								}
							};
							new Chart(ctx, {
								type: 'doughnut',
								data: data,
								options: options
							});
						});
					</script>
				</div><!--


				--><div class="col-md-6 vcenter">
				<f:debug>{_all}</f:debug>
					<span class="luxletter-panel-body-text">
						<luxletter:format.percent number="{statistic.overallOpenRate}">13 %</luxletter:format.percent>
						<span class="luxletter-panel-body-text--addition"><f:translate key="module.newsletter.dashboard.label.overallopenrate">Open rate</f:translate></span>
					</span>
				</div>
			</div>
		</div>
	</div>
</div>
