define(["jquery"],function(e){"use strict";function t(e){var t=this;this.initialize=function(){i(),r(),a(),l()};var r=function(){for(var e=document.querySelectorAll(".wizardform > fieldset"),t=document.querySelectorAll("[data-wizardform-gotostep]"),r=document.querySelectorAll(".wizard > a"),i=1;i<e.length;i++)e[i].style.display="none";for(var a=0;a<t.length;a++)t[a].addEventListener("click",function(t){t.preventDefault();var i=this.getAttribute("data-wizardform-gotostep");n(r,"current"),r[i-1].classList.add("current");for(var a=0;a<e.length;a++)e[a].style.display="none";e[i-1].style.display="block"})},n=function(e,t){for(var r=0;r<e.length;r++)e[r].classList.remove(t)},i=function(){null!==document.querySelector(".t3js-datetimepicker")&&require(["TYPO3/CMS/Backend/DateTimePicker"],function(e){e.initialize()})},a=function(){var e=document.querySelector('[data-luxletter-wizardpreviewevent="users"]');null!==e&&e.addEventListener("change",function(){o(TYPO3.settings.ajaxUrls["/luxletter/wizardUserPreview"],{usergroup:this.value},"addWizardUserPreviewCallback")})},l=function(){var e=document.querySelector('[data-luxletter-wizardpreviewevent="newsletter"]');null!==e&&e.addEventListener("blur",function(){o(TYPO3.settings.ajaxUrls["/luxletter/wizardNewsletterPreview"],{origin:this.value},"addWizardNewsletterPreviewCallback")})};this.addWizardUserPreviewCallback=function(e){var t=document.querySelector('[data-luxletter-wizardpreview="users"]');null!==t&&(t.innerHTML=e.html)},this.addWizardNewsletterPreviewCallback=function(e){var t=document.querySelector('[data-luxletter-wizardpreview="newsletter"]');null!==t&&(t.innerHTML=e.html)};var o=function(e,r,n){if(void 0!==e&&""!==e){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&200===this.status&&null!==n&&t[n](JSON.parse(this.responseText))},i.open("POST",u(e,r),!0),i.send()}else console.log("No ajax URI given!")},u=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e+=e.indexOf("?")!==-1?"&":"?",e+=r+"="+encodeURIComponent(t[r]));return e}}e(document).ready(function(){var r=new t(e);r.initialize()})});